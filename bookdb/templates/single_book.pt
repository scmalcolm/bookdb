<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal">
<head metal:use-macro="shared.macros['standard_head']">
</head>
<body metal:use-macro="shared.macros['standard_body']">
  <div metal:fill-slot="page_title">
    <b tal:condition="not editable">View a Book</b>
    <b tal:condition="editable">Edit a Book</b>
  </div>
  <div metal:fill-slot="bottom_section">
    <?python readonly = None if editable else 'readonly'?>
    <form tal:attributes="action None if not editable else save_url"
      method="post">
        <label for="isbn">ISBN</label>
        <input id="isbn" name="isbn13" type="text" tal:attributes="readonly readonly"
            value="${book.isbn13}" autofocus="autofocus"/><br/>
        <label for="title">Title</label>
        <input id="title" name="title" type="text" tal:attributes="readonly readonly"
            value="${book.title}"/><br/>
        <label for="author">Author</label>
        <input id="author" name="author_string" type="text" tal:attributes="readonly readonly"
            value="${book.author_string()}"/><br/>
        <label for="publisher">Publisher</label>
        <input id="publisher" type="text" readonly="readonly"
            value="${book.publisher}" tal:condition="not editable"/>
        <select id="publisher" name="publisher" tal:condition="editable">
          <option tal:repeat="pub publishers"
            tal:attributes="selected 'selected' if pub is book.publisher else None">
            <span tal:replace="pub">Publisher Name</span>
          </option>
        </select><br/>
        <label for="binding">Binding</label>
        <input id="binding" type="text" readonly="readonly"
            value="${book.binding}" tal:condition="not editable"/>
        <select id="binding" name="binding" tal:condition="editable">
          <option tal:repeat="bind bindings"
            tal:attributes="selected 'selected' if bind is book.binding else None">
            <span tal:replace="bind">Binding</span>
          </option>
        </select><br/>
        <label for="location">Location</label>
        <input id="location" type="text" readonly="readonly"
            value="${book.shelf_location}" tal:condition="not editable"/>
        <select id="location" name="shelf_location" tal:condition="editable">
          <option tal:repeat="loc locations"
            tal:attributes="selected 'selected' if loc is book.shelf_location else None">
            <span tal:replace="loc">Shelf Location</span>
          </option>
        </select><br/>
        <input type="submit" name="form.submitted" value="Save"
          tal:condition="editable"/>
        <a href="edit"
          tal:attributes="href edit_url" tal:condition="not editable">
          Edit this Book</a>
    </form>
  </div>
</body>
</html>

